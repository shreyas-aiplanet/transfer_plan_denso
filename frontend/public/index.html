<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Denso - Transfer Plan Recommendation</title>
    <link rel="stylesheet" href="../src/styles/main.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="denso-logo">
                    <h1>DENSO</h1>
                    <div class="logo-subtitle">Transfer Plan Recommendation System</div>
                </div>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="products">Products</button>
            <button class="tab-btn" data-tab="plants">Plants</button>
            <button class="tab-btn" data-tab="transfer-plan">Generate Transfer Plan</button>
            <button class="tab-btn" data-tab="results">Results</button>
        </nav>

        <main>
            <!-- Products Tab -->
            <section id="products-tab" class="tab-content active">
                <h2>Product Management</h2>
                <p class="section-description">Manage products (SKUs) with their demand and cost information.</p>

                <div class="card" style="background: #f0f9f4; border-left-color: #10A958;">
                    <h3>Quick Start - Example Data</h3>
                    <p style="margin-bottom: 15px; color: #666;">Load realistic automotive manufacturing example data to test the optimization system.</p>
                    <button id="loadExampleData" class="btn-secondary" style="background: #10A958; color: white;">
                        Load Example Data (12 Products, 4 Plants)
                    </button>
                    <div id="exampleDataStatus" style="margin-top: 15px;"></div>
                </div>

                <div class="card">
                    <h3>Products List</h3>
                    <button id="loadProducts" class="btn-secondary">Refresh Products</button>
                    <div id="productsList" class="data-table"></div>
                </div>

                <div class="card">
                    <h3>Add New Product</h3>
                    <form id="addProductForm" class="form-grid">
                        <div class="form-group">
                            <label for="productId">Product ID (SKU) *</label>
                            <input type="text" id="productId" placeholder="e.g., SKU-001" required>
                        </div>
                        <div class="form-group">
                            <label for="currentPlantId">Current Plant ID *</label>
                            <input type="text" id="currentPlantId" placeholder="e.g., PLANT-JP-01" required>
                        </div>
                        <div class="form-group">
                            <label for="monthlyDemand">Monthly Demand (pcs) *</label>
                            <input type="number" id="monthlyDemand" placeholder="e.g., 10000" step="1" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="currentUnitCost">Current Unit Cost ($) *</label>
                            <input type="number" id="currentUnitCost" placeholder="e.g., 25.50" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="unitVolume">Unit Volume/Weight</label>
                            <input type="number" id="unitVolume" placeholder="Optional" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label for="cycleTime">Cycle Time (sec)</label>
                            <input type="number" id="cycleTime" placeholder="Optional" step="0.1" min="0">
                        </div>
                        <div class="form-group">
                            <label for="yieldRate">Yield Rate (%)</label>
                            <input type="number" id="yieldRate" placeholder="Optional" step="0.1" min="0" max="100">
                        </div>
                        <div class="form-group full-width">
                            <button type="submit" class="btn-primary">Add Product</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Plants Tab -->
            <section id="plants-tab" class="tab-content">
                <h2>Plant Management</h2>
                <p class="section-description">Manage candidate target plants with capacity and cost information.</p>

                <div class="card">
                    <h3>Plants List</h3>
                    <button id="loadPlants" class="btn-secondary">Refresh Plants</button>
                    <div id="plantsList" class="data-table"></div>
                </div>

                <div class="card">
                    <h3>Add New Plant</h3>
                    <form id="addPlantForm" class="form-grid">
                        <div class="form-group">
                            <label for="plantId">Plant ID *</label>
                            <input type="text" id="plantId" placeholder="e.g., PLANT-JP-01" required>
                        </div>
                        <div class="form-group">
                            <label for="availableCapacity">Available Capacity (pcs/month) *</label>
                            <input type="number" id="availableCapacity" placeholder="e.g., 50000" step="1" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="unitProductionCost">Unit Production Cost ($) *</label>
                            <input type="number" id="unitProductionCost" placeholder="e.g., 22.00" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="transferFixedCost">Transfer Fixed Cost ($) *</label>
                            <input type="number" id="transferFixedCost" placeholder="e.g., 50000" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="effectiveOEE">Effective OEE (0-1)</label>
                            <input type="number" id="effectiveOEE" placeholder="e.g., 0.85" step="0.01" min="0" max="1" value="1.0">
                        </div>
                        <div class="form-group">
                            <label for="leadTimeToStart">Lead Time to Start (months)</label>
                            <input type="number" id="leadTimeToStart" placeholder="e.g., 3" step="0.1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="riskScore">Risk Score (0-1)</label>
                            <input type="number" id="riskScore" placeholder="Optional" step="0.01" min="0" max="1">
                        </div>
                        <div class="form-group">
                            <label for="maxUtilization">Max Utilization Target (%)</label>
                            <input type="number" id="maxUtilization" placeholder="e.g., 90" step="1" min="0" max="100" value="90">
                        </div>
                        <div class="form-group full-width">
                            <button type="submit" class="btn-primary">Add Plant</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Transfer Plan Tab -->
            <section id="transfer-plan-tab" class="tab-content">
                <h2>Generate Transfer Plan</h2>
                <p class="section-description">Configure optimization parameters and generate transfer plan recommendations.</p>

                <div class="card">
                    <h3>Optimization Configuration</h3>
                    <form id="generatePlanForm" class="form-grid">
                        <div class="form-group">
                            <label for="budgetCapital">Budget Capital ($)</label>
                            <input type="number" id="budgetCapital" placeholder="Optional - leave blank for no limit" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label for="transferDeadline">Transfer Deadline</label>
                            <input type="date" id="transferDeadline" placeholder="Optional">
                        </div>
                        <div class="form-group">
                            <label for="discountRate">Discount Rate (0-1)</label>
                            <input type="number" id="discountRate" placeholder="Optional" step="0.01" min="0" max="1">
                        </div>
                        <div class="form-group">
                            <label for="objectiveFunction">Objective Function</label>
                            <select id="objectiveFunction">
                                <option value="minimize_cost">Minimize Total Cost</option>
                                <option value="minimize_time">Minimize Time-to-Production</option>
                                <option value="balance_utilization">Balance Utilization</option>
                                <option value="multi_objective">Multi-Objective</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label class="checkbox-label">
                                <input type="checkbox" id="allowFractional">
                                Allow fractional assignment (split production across plants)
                            </label>
                        </div>
                        <div class="form-group full-width">
                            <button type="submit" class="btn-primary btn-large">Generate Transfer Plan</button>
                        </div>
                    </form>
                </div>

                <div id="planGenerationStatus" class="status-message"></div>
            </section>

            <!-- Results Tab -->
            <section id="results-tab" class="tab-content">
                <h2>Transfer Plan Results</h2>
                <p class="section-description">View the optimized transfer plan recommendations.</p>

                <div id="resultsContainer">
                    <div class="empty-state">
                        <p>No transfer plan generated yet. Go to "Generate Transfer Plan" tab to create one.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 DENSO Corporation. All rights reserved.</p>
        </footer>
    </div>

    <script src="../src/app.js"></script>
</body>
</html>
